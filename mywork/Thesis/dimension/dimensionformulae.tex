\chapter{Faithful actions on Riemann-Roch spaces} \label{Chapter:Faithfulactions}
\section{Dimension formulae}\label{dimsection}



Throughout this chapter, unless otherwise stated, we assume that $X$ is a connected, smooth, projective algebraic curve over an algebraically closed field $k$ of characteristic $p \geq 0$.
We furthermore assume that $G$ is a finite group of order $n$ that acts faithfully on $X$.
Note that $G$ also induces an action on the vector space $H^0(X,\Omega_X^{\otimes m})$ of global holomorphic poly-differentials of order $m$.
We let $Y$ denote the quotient curve $X/G$, and we let $\pi:X\rightarrow Y$ be the canonical projection.
Finally, we denote by $g_X$ and $g_Y$ the genus of $X$ and $Y$ respectively, and we let $K_X$ and $K_Y$ be canonical divisors on $X$ and $Y$.\todo{put comment in previous section regarding divisors}


In this section we compute the dimension of $H^0(X,\Omega_X^{\otimes m})$ and of $H^0(X,\Omega_X^{\otimes m})^G$, the subspace of $H^0(X,\Omega_X^{\otimes m})$ fixed by $G$.


We briefly describe an alternative, but equivalent, definition of the ramification divisor (Definition \ref{definitionramificationdivisor}), which we will use later.
In the tamely ramified case then the ramification divisor is $R = \sum_{P \in X}e_P-1 [P]$, but to extend this to the wildly ramified case we will need the following the definition of higher ramification groups.


    \begin{defn}
    Let $G:=\gal(X/Y)$ and let $t$ be a uniformising parameter at $P\in X$.
    Then for $i\geq -1$ we define the $i^{th}$ ramification group at $P$, denoted $G_i(P)$, to be the subgroup of $s\in G$ such that $i_G(s) := \ord_P(s(t)-t)$ is at least $i+1$.
    This is	independent of the choice of $t$, see \cite[Chap. IV, \S 1, pg. 62]{localfields}.
    \end{defn}

Note that for any $P\in X$ we have that $G_{-1}(P)=G$, if $i$ is sufficiently large then $G_i(P)$ is trivial and $G_i(P)\supseteq G_{i+1}(P)$.
Also, $G_1$ is a $p$-group and $\ord(G_0(P)/G_1(P))$ is co-prime to $p$.
In particular, $\pi$ is tamely ramified at $P$ if and only if $G_1(P)$ is the trivial group.
More details can be found in \cite[Chap. IV, \S 1]{localfields}.%Citation is slightly ambiguous, but only references four pages, so is okay.

Note that $e_P = \ord (G_0(P))$ for any $P \in X$.
Also, for any $Q \in Y$ we write $\delta_Q$ for $\delta_P$ and $e_Q$ for $e_P$, where $P\ \in \pi^{-1}(Q)$.\todo{explain why this is well defined}
We now state Hilbert's formula, relating our definition of the ramification divisor in Chapter \ref{Chapter:hurwitzformula} (see Definition \ref{definitionramificationdivisor}) to the ramification groups, making future computations easier.


    \begin{thm}[Hilbert's Formula]\label{hilbertsformula}
    Suppose that $P\in X$ and that $t$ is a uniformising parameter in $\cO_{X,P}$.
    Then we have
        \begin{equation}
        \delta_P = \sum_{s\neq e}i_G(s)=\sum_{j=0}^{\infty}\left(\ord(G_i(P))-1\right),\label{ramdiv}
        \end{equation}
    where $e$ denotes the identity in $G$.
    \end{thm}
    \begin{proof}
    For the sake of brevity we do not prove these statements here. See \cite[Chap. IV, \S 1, Prop. 4]{localfields} for a proof of Hilbert's formula.
    \end{proof}

By Corollary \ref{dim=gc} we have $\dim_kH^0(X,\Omega_X)=g_X$.
If $m\geq 2$, we have the following formula for $\dim_kH^0(X,\Omega_X^{\otimes m})$.

    \begin{lem}\label{dim3}
    Let $m\geq 2$. Then
        \begin{equation}
        \dim_kH^0(X,\Omega_X^{\otimes m}) =
            \begin{cases}
            0 & \mbox{if } g_X=0,\\
            1 & \mbox{if } g_X=1,\\
            (2m-1)(g_X-1) & \mbox{otherwise}.
            \end{cases}
        \end{equation}
    \end{lem}
    \begin{proof}
    The trivial cases of $g_X =0$ and $g_X=1$ are explicitly explained in examples (a) and (b) in section \ref{examplessection}.
    
    If $g_X\geq 2$ then $\deg(K_X)\geq1$, so $\deg(mK_X)>\deg(K_X)$.
    Since $H^0(X,\Omega_X^{\otimes m}) \cong H^0(X,\Omega_X(mK_X))$ it then follows from the Riemann-Roch theorem (Theorem \ref{theoremriemannroch}) that
        \[
        \dim_kH^0(X,\Omega_X^{\otimes m})=\deg(mK_X)+1-g_X=(2m-1)(g_X-1).
        \]
    \end{proof}

We now introduce some notations. 
Let $D=\sum_{P\in X}n_P[P]$ be a $G$-invariant divisor on $X$ (\ie $n_{\sigma(P)} = n_P$ for all $\sigma \in G$ and $P\in X$) and let $\cO_X(D)$ denote the corresponding equivariant invertible $\cO_X$-module. 
Furthermore, let $\pi_*^G(\cO_X(D))$ denote the sub-sheaf of the direct image $\pi_*(\cO_X(D))$ fixed by the obvious action of $G$ on $\pi_*(\cO_X(D))$.
We also let $\left\lfloor \frac{\pi_*(D)}{n} \right \rfloor$ denote the divisor on $Y$ obtained from the push-forward $\pi_*(D)$ by replacing the coefficient $m_Q$ of $Q$ in $\pi_*(D)$ with the integral part $\left \lfloor \frac{m_Q}{n} \right \rfloor$ of $\frac{m_Q}{n}$ for each $Q \in Y$. 
The function fields of $X$ and~$Y$ are denoted by $K(X)$ and $K(Y)$ respectively. 
Finally, for any $P \in X$ let $\ord_P$ and $\ord_Q$ denote the respective valuations of $K(X)$ and $K(Y)$ at $P$ and $Q:=\pi(P)$.



The next lemma is the main idea in the proof of our formula for $\dim_kH^0(X,\Omega_X^{\otimes m})^G$, see Proposition \ref{dim}. 



    \begin{lem}
    Let $D=\sum_{P\in X}n_P[P]$ be a $G$-invariant divisor on $X$.
    Then the sheaves $\pi_*^G(\cO_X(D))$ and $\cO_Y\left(\left\lfloor \frac{\pi_*(D)}{n}\right \rfloor\right)$ are equal as subsheaves of the constant sheaf $K(Y)$ on $Y$. 
    In particular, the sheaf $\pi_*^G(\cO_X(D))$ is an invertible $\cO_Y$-module.
    \end{lem}
    \begin{proof}
    For every open subset $V$ of $Y$ we have 
        \[
        \pi_*^G(\cO_X(D))(V) = \cO_X(D) (\pi^{-1}(V))^G \subseteq K(X)^G = K(Y).
        \]
    In particular, both sheaves are subsheaves of the constant sheaf $K(Y)$ as stated. 
    It therefore suffices to check that their stalks are equal. 
    For any $Q \in Y$ and $P \in \pi^{-1}(Q)$.
    We have
        \begin{align*}
        \lefteqn{\pi_*^G\left(\cO_X(D)\right)_Q = \cO_X(D)_P \cap K(Y)}\\
        &= \left\{f \in K(Y): \ord_P(f) \ge -n_P\right\}\\
        &= \left\{f \in K(Y): \ord_Q(f) \ge - \frac{n_P}{e_P}\right\}\\
        &= \left\{ f \in K(Y): \ord_Q(f) \ge - \left\lfloor\frac{n_P}{e_P} \right\rfloor \right\}\\
        &= \cO_Y\left(\left\lfloor \frac{\pi_*(D)}{n} \right\rfloor\right)_Q,
        \end{align*}
    as desired.
    \end{proof}

The following proposition contains the aforementioned formula for the dimension of the subspace of $H^0(X,\Omega_X^{\otimes m})$ fixed by $G$.
In particular we see that this dimension is completely determined by $m$, $g_Y$ and $\deg \left\lfloor \frac{m\pi_*(R)}{n} \right\rfloor$.


    \begin{prop}\label{dim}
    Let $m\geq 1$. Then the dimension of $H^0(X,\Omega_X^{\otimes m})^G$ is equal to
        \[
        \dim_k \left( H^0(X,\Omega_X^{\otimes m})^G \right) = (2m-1)(g_Y-1) + \deg\left\lfloor\frac{m\pi_*(R)}{n} \right\rfloor,
        \]  
    unless one of the following conditions holds:
        \begin{itemize}
        \item $m=1 \mbox{ and } \deg\left\lfloor\frac{m\pi_*(R)}{n}\right\rfloor = 0$ or
        \item $g_Y=1 \mbox{ and } \deg\left\lfloor\frac{m\pi_*(R)}{n}\right\rfloor = 0$ or
        \item  $g_Y=0 \mbox{ and } \deg\left\lfloor\frac{m\pi_*(R)}{n}\right\rfloor < 2m-1$,
        \end{itemize}
    in which case 
        \[
        \dim_k \left( H^0(X,\Omega_X^{\otimes m})^G \right) = g_Y.
        \]      
    \end{prop}
    \begin{proof}
    Let $E$ denote the divisor $\left\lfloor \frac{\pi_*(mK_X)}{n} \right\rfloor$ on $Y$. As $K_X=\pi^*(K_Y)+R$ we have
        \[ 
        E = 
        \left \lfloor \frac{\pi_*\pi^*(mK_Y) + \pi_*(mR)}{n} \right \rfloor =
        mK_Y + \left \lfloor \frac{m\pi_*(R)}{n} \right \rfloor.
        \]
    Using the previous lemma we conclude that $\pi_*^G(\Omega_X^{\otimes m}) \cong \cO_Y (E)$ and finally that
        \begin{equation*}
        \dim_k H^0(X,\Omega_X^{\otimes m})^G 
        = \dim_k H^0\left(Y, \pi_*^G(\Omega_X^{\otimes m})\right)
        = \dim_k H^0\left(Y, \cO_Y\left( E \right) \right).
        \end{equation*}
    
    
    In the first case of the proposition, \ie if $m=1$ and $\deg \left\lfloor\frac{m\pi_*(R)}{n} \right\rfloor=0$, then $\left\lfloor\frac{m\pi_*(R)}{n} \right\rfloor$ is the zero divisor and we conclude that 
        \begin{equation*}
        \dim_kH^0(X,\Omega_X)^G = \dim_kH^0(Y, \Omega_Y) = g_Y.
        \end{equation*}
    
    
    In the second case $\left\lfloor \frac{m\pi_*(R)}{n} \right\rfloor$ is again the zero divisor. 
    Furthermore, as $g_Y=1$, the divisor $K_Y$ is equivalent to the zero divisor, and hence $mK_Y$ is too. 
    This means that
        \begin{equation*}
        \dim_kH^0(X,\Omega_X^{\otimes m})^G = \dim_kH^0\left( Y,\cO_Y\left( E \right) \right) 
        = \dim_k  H^0\left( Y,\cO_Y\left( 0 \right) \right)
        = 1.
        \end{equation*}
    
    
    For the third case, by \cite[Chap. IV, ex. 1.3.4]{hart} it suffices to show that $\deg \left( E \right) < 0$.
    As $g_Y=0$ we have $\deg(K_Y)=-2$, so $\deg(mK_Y)=-2m$, and $\deg \left( E \right)$ is indeed negative.
    
    
    
    We will show below that in all other cases $\deg(E) > \deg(K_Y)$, and then the Riemann-Roch formula (Theorem \ref{theoremriemannroch}) will give 
        \begin{align*}
        \lefteqn{\dim_kH^0(X,\Omega_X^{\otimes m})^G = \dim_kH^0\left(Y,\cO_Y\left( E \right)\right)} \\
        & =  1-g_Y+\deg\left(mK_Y+\left\lfloor{\frac{m\pi_*(R)}{n}}\right\rfloor\right) \\
        & =  (2m-1)(g_Y-1)+\deg\left\lfloor{\frac{m\pi_*(R)}{n}}\right\rfloor,
        \end{align*}
    completing the proof for this case.
    
    
    All that remains is to show that $\deg(E)>\deg(K_Y)$ in all other cases.
    Firstly, if $g_Y=0$ and $\deg \left\lfloor\frac{m\pi_*(R)}{n} \right\rfloor \geq 2m-1$ then, since $\deg(mK_Y)=-2m$, we have 
        \[
        \deg \left( E \right) \geq -1 >-2 = \deg(K_Y).
        \]
    Similarly, if $g_Y=1$ and $\deg \left\lfloor\frac{m\pi_*(R)}{n} \right\rfloor >0$ then, as $\deg \left( mK_Y \right)=0$, we have $\deg \left( E \right) > 0 = \deg (K_Y)$.
    If $m=1$ and $\deg \left\lfloor\frac{m\pi_*(R)}{n} \right\rfloor >0$ then clearly $\deg \left( E \right) > \deg (K_Y)$.
    Lastly, if $m\geq 2$ and $g_Y\geq 2$ then $\deg (K_Y) > 0$ and we have 
        \begin{equation*}
        \deg \left( E \right) \geq \deg\left( mK_Y \right) > \deg (K_Y).
        \end{equation*}
    So in all other cases $\deg(E)>\deg(K_Y)$, and the proof is complete.
    \end{proof}


If $m=1$ we reformulate Proposition \ref{dim} in the following slightly more concrete way. 
Let $S$ denote the set of all points $Q\in Y$ such that $\pi$ is not tamely ramified at $Q$ and let $s$ denote the cardinality of $S$. 
Note that $s=0$ if $p$ does not divide $n$.


For the next corollary we recall the notations $e_Q$ and $\delta_Q$ for any $Q\in Y$ defined before Theorem \ref{hilbertsformula}.


    \begin{cor}\label{dim2}
    We have 
        \begin{equation*}
        \dim_kH^0(X,\Omega_X)^G = 
            \begin{cases}
            g_Y & \mbox{if } s=0, \\
            g_Y-1+\sum_{Q\in S}\left\lfloor \frac{\delta_Q}{e_Q} \right\rfloor & \mbox{otherwise}.
            \end{cases}
        \end{equation*}
    \end{cor}
    \begin{proof}
    We have
        \[
        \deg\left\lfloor\frac{\pi_*(R)}{n} \right\rfloor = \sum_{Q\in Y}\left\lfloor\sum_{P\mapsto Q} \frac{\delta_P}{n} \right\rfloor = \sum_{Q\in Y} \left\lfloor \frac{\delta_Q}{e_Q} \right\rfloor.
        \]
    Furthermore we have $\left\lfloor \frac{\delta_Q}{e_Q} \right\rfloor = 0$ if and only if $\delta_Q<e_Q$, \ie if and only if $Q\notin S$. 
    Thus Corollary \ref{dim2} follows from Proposition \ref{dim}.
    \end{proof}

    \begin{rem}
    Note that if $p>0$ and $G$ is cyclic then Corollary \ref{dim2} can be derived from Proposition $6$ in the recent pre-print \cite{kako} by Karanikolopoulos and Kontogeorgis.\todo{check to see if preprint is now published}
    \end{rem}



\section{Trivial action in the cyclic case}

In this section we will look at the case where $G$ is a cyclic group of prime order, or a power of a prime, and determine when $G$ acts trivially on $H^0(X,\Omega_X^{\otimes m})$.
Compared to arbitrary groups, it is considerably easier to compute when these groups act trivially, and we will later see that we can reduce to this case, regardless of what the structure of $G$ is.


Throughout this section, $P_1,\ldots ,P_r \in X$ denote the ramification points of $\pi$ and we write $e_i$ and $\delta_i$ for $e_{P_i}$ and $\delta_P{_i}$.
Also, for $i=1, \ldots, r$, we define $N_i \in \NN$ by $\ord_{P_i}(\sigma(\pi_i) - \pi_i) = N_i +1$, where $\pi_i$ is a local parameter at the ramification point $P_i$ and $\sigma$ is a generator of $G(P_i)$. 
We also assume that $g_X \geq 2$.


    \begin{prop}\label{m=1}
    Let $p  > 0$ and let $G$ be cyclic of order $p$.
    Furthermore, we assume that $g_Y=0$.
    Then $G$ acts trivially on $H^0(X,\Omega_X)$ if and only if $p=2$. 
    \end{prop}
    \begin{proof}
    From \cite[Lem. 1]{Naka} we know that $p$ does not divide $N_i$ for $i=1,\ldots ,r$, a fact we will use several times below. \todo{more specific citation}
    Let $N:= \sum_{i=1}^r N_i$. 
    Using the Riemann-Hurwitz formula, Corollary \ref{hur}, we obtain
        \begin{equation}\label{hur2}
        2g_X - 2 = -2p + (N+r)(p-1)
        \end{equation}
    and hence
        \[
        \dim_kH^0(X,\Omega_X) = g_X =\frac{(N+r-2)(p-1)}{2}.
        \] 
    Since $g_X \ge 0$ we obtain $r \ge 1$; that is, $\pi$ is not unramified. 
    As $\cha(k) = p = \ord(G)$, the morphism $\pi$ is not tamely ramified, and the cardinality $s$ defined before Corollary \ref{dim2} is not zero.
    Therefore we have 
        \[
        \deg \left\lfloor \frac{\pi_*(R)}{p} \right\rfloor =
        \sum_{i=1}^r \left\lfloor \frac{(N_i+1)(p-1)}{p}\right\rfloor 
        \ge \sum_{i=1}^r \left\lfloor \frac{2(p-1)}{p}\right\rfloor = r > 0.
        \] 
    From Corollary \ref{dim2} we then conclude that 
        \begin{align*}
        \dim_kH^0\left(X,\Omega_X\right)^G & =  g_Y - 1 + \sum_{i=1}^r\left\lfloor \frac{\delta_i}{e_i}\right\rfloor \\
        & =  -1 + N + r \sum_{i=1}^r\left\lfloor -\frac{N_i+1}{p}\right\rfloor.
        \end{align*}
    
    If $p=2$, the dimension of both $H^0(X,\Omega_X)$ and $H^0(X,\Omega_X)^G$ is therefore equal to $\frac{N+r-2}{2}$. 
    This shows the if-direction in Proposition \ref{m=1}.
    
    
    
    To prove the other direction we now assume that $G$ acts trivially on $H^0(X, \Omega_X)$.
    For each $i=1, \ldots, r$, we write $N_i = s_i p +t_i$ with $s_i \in \NN$ and $t_i \in \{1, \ldots, p-1\}$. 
    We furthermore put $S:=\sum_{i=1}^r s_i$ and $T:= \sum_{i=1}^r t_i \ge r$. 
    Then we have
        \[ 
        \frac{(N+r-2)(p-1)}{2} =\dim_kH^0(X,\Omega_X)  = \dim_k H^0(X,\Omega_X)^G = N-S-1 .
        \]
    Rearranging this equation we obtain
        \[
        (3-p)N - 2S = (r-2)(p-1) +2  
        \]
    and hence
        \[
        (-p^2 + 3p -2)S = (r-2)(p-1) +2 - (3-p)T.
        \]
    Assuming that $p \ge 3$ this equation implies that
        \[ 
        S = \frac{(r-2)(1-p)-2 + T (3-p)}{(p-1)(p-2)}. 
        \]
    since $-p^2+3p-2 = - (p-1)(p-2)$. 
    
    Because $S \geq 0$, the numerator of this fraction is non-negative, that is
        \begin{align*}
        \lefteqn{0 \le (r-2)(1-p) - 2 + T (3-p)}\\
        &\le  (r-2)(1-p) - 2 + r (3-p)\\
        &= 2 (r-1)(2-p).
        \end{align*}
    Hence we have that $r=1$ and that the numerator is $0$. 
    We conclude that $S=0$ and hence that $T=1$ or $p=3$. 
    If $T=1$ we also have $N=1$ and finally
        \[
        g_X = \frac{(N+r-2)(p-1)}{2} = 0,
        \]
    a contradiction.
    If $T \not=1$ and $p=3$ we obtain $N=T=2$ and finally 
        \[
        g_X = \frac{(N+r-2)(p-1)}{2} =1,
        \] 
    again a contradiction.
    \end{proof}

    \begin{prop}\label{triv}
    Let $m \geq 2$. 
    Suppose that $G$ is a cyclic group of prime order $l$ (which may or may not be equal to $p$) and that $g_Y=0$. 
    Then $G$ acts trivially on $H^0(X,\Omega_X^{\otimes m})$ if and only if $g_X=m=l=2$.
    \end{prop}
    \begin{proof}
    We have different proofs according to whether or not the order $l$ of the group is the same as the characteristic $p$ of the field.
    
    
    First we assume that $l=p$. 
    As in the proof of Proposition \ref{m=1}, we let $N=\sum_{i=1}^r N_i$, and we let $M=N+r$.
    Then due to (\ref{hur2}) we have
        \begin{equation}\label{simplehur}
        2g_X-2=-2p+M(p-1),
        \end{equation}
    and combining this with Lemma \ref{dim3} we can write
        \begin{equation}\label{altdim2}
        \dim_kH^0(X,\Omega_X^{\otimes m})=(2m-1)(g_X-1)=(2m-1)\left(\frac{M(p-1)-2p}{2}\right).
        \end{equation}
    
    Furthermore, we have
        \begin{equation}\label{altdim}
        \deg\left\lfloor \frac{m\pi_*(R)}{p} \right\rfloor = \sum_{i=1}^r\left\lfloor \frac{m(N_i+1)(p-1)}{p} \right\rfloor  = mM + \sum_{i=1}^r\left\lfloor \frac{-m(N_i+1)}{p} \right\rfloor.
        \end{equation}
    If we have $p=g_X=m=2$, then on the one hand we see that $\dim_kH^0(X,\Omega_X^{\otimes m}) =3$. 
    On the other hand, we first note that \eqref{simplehur} implies $M=6$.
    So 
        \begin{equation*}
        \deg\left\lfloor \frac{m\pi_*(R)}{p}\right\rfloor = 2M -M =6 > 3 = 2m-1.
        \end{equation*}  
    Then, by Proposition \ref{dim}, we obtain 
        \begin{equation*}
        \dim_kH^0(X,\Omega_X^{\otimes m})^G = (2m-1)(g_Y-1)+\deg\left\lfloor \frac{m\pi_*(R)}{p} \right\rfloor = -3 + 6 = 3.
        \end{equation*}
    So the two dimensions are equal and the action of $G$ on $H^0(X,\Omega_X^{\otimes m})$ is trivial. 
    This completes the if direction of the proof.
    
    Now we assume that the action is trivial. This first implies that 
    $\deg \left\lfloor\frac{m\pi_*(R)}{p}\right\rfloor \geq 2m-1$ because otherwise we would 
    have $\dim_kH^0(X,\Omega_X^{\otimes m})^G=0$ by Proposition \ref{dim}, but we know that 
    $\dim_kH^0(X,\Omega_X^{\otimes m})=(2m-1)(g_X-1)$ is strictly positive.\todo{rewrite sentence}
    So, using \eqref{altdim}, \eqref{altdim2} and Proposition \ref{dim} we see that
        \begin{align}\label{bound}
        \lefteqn{(2m-1)\frac{M(p-1)-2p}{2} = \dim_kH^0(X,\Omega_X^{\otimes m})} \nonumber\\
        & =  \dim_kH^0(X,\Omega_X^{\otimes m})^G \nonumber\\
        & =  1-2m+mM+\sum_{i=1}^r\left\lfloor\frac{-m(N_i+1)}{p}\right\rfloor\nonumber \\
        & \leq  1-2m+mM+\sum_{i=1}^r\frac{-m(N_i+1)}{p}\nonumber \\
        & =  1-2m+mM-\frac{mM}{p}.
        \end{align}
    
    After multiplying by $2p$ and rearranging we obtain
        \begin{align}\label{times2p}
        0 & \geq  (2mM-M-4m+2)p^2+(-4mM+M-2+4m)p+2mM \nonumber \\
            & =  (M-2)(2m-1)p^2-((M-2)(2m-1)+2mM)p+2mM \nonumber \\
        & =  (p-1)((M-2)(2m-1)p-2mM).
        \end{align}
    
    Furthermore from \eqref{hur2} we obtain that $-2p+M(p-1)=2g_X-2 \geq 2$ and hence that 
        \begin{equation}\label{greater2}
        M\geq \frac{2+2p}{p-1}=2+\frac{4}{p-1}>2.
        \end{equation}
    
    So from \eqref{times2p} and \eqref{greater2} we see that
        \begin{align}\label{plessthan4}
        p & \leq  \frac{2mM}{(M-2)(2m-1)}\nonumber\\
        & =  \frac{M}{M-2}\cdot\frac{2m}{2m-1}\nonumber\\
        & =  \left( 1+\frac{2}{M-2} \right) \left(1+\frac{1}{2m-1} \right)\\
        & \leq  4, \nonumber	
        \end{align}
    \ie $p=2$ or $p=3$. 
    
    Suppose that $p=3$. Then from \eqref{greater2} we have $M\geq 4$. However, from  \eqref{plessthan4} we also have that 
        \begin{align*}
        3 & \leq \left( 1+\frac{2}{M-2} \right) \left(1+\frac{1}{2m-1} \right)\\
        & \leq  \left( 1+\frac{2}{M-2} \right) \frac{4}{3}\\
        & \leq  \frac{8}{3},
        \end{align*}
    a contradiction.
    
    Lastly, we come to the case when $p=2$. From \eqref{plessthan4} we see that $2\leq \left(1+\frac{2}{M-2}\right)\frac{4}{3}$ 
    and hence $M\leq 6$. However, from \eqref{greater2} we know that $M\geq 6$, so $M=6$. Then from \eqref{bound}  we obtain that $2m-1=1-2m+6m-3m$
    and hence that $m=2$. Finally, (\ref{hur2}) gives us that $2g_X-2=-4+6=2$ and hence $g_X=2$. 
    This completes the only if direction of the proof when $l=p$.
    
    Now if $l\neq p$ then we know that all the coefficients $\delta_i$ of the ramification divisor are equal to $l-1$. 
    To show the if direction in this case, first note that $\dim_kH^0(X,\Omega_X^{\otimes m})=3$ by Lemma~\ref{dim3}. 
    On the other hand, the Riemann-Hurwitz formula (Corollary \ref{hur}) implies that $2 = 2g_X-2=-2l+\deg(R)=-2l+r(l-1)$, and hence that $r=6$. 
    Finally Proposition \ref{dim} gives us
        \begin{equation*}
        \dim_kH^0(X,\Omega_X^{\otimes m})^G = -(2m-1) + \sum_{i=1}^r \left\lfloor \frac{m\cdot \delta_i}{l} \right\rfloor
        = -3 +\sum_{i=1}^6 \left\lfloor \frac{m(l-1)}{l} \right\rfloor
        = 3,
        \end{equation*}
    since $m=l=2$.
    As the dimensions of $H^0(X,\Omega_X^{\otimes m})$ and $H^0(X,\Omega_X^{\otimes m})^G$ are equal, the action is trivial.
    
    
    Now, for the final section of the proof we suppose that $G$ acts trivially on the space $H^0(X,\Omega_X^{\otimes m})$.
    We then show that this implies that $g_X=l=m=2$.
    
    
    From Lemma \ref{dim3} and Proposition~\ref{dim} we obtain
        \begin{align*}
        \lefteqn{(2m-1)(g_X-1)=\dim_kH^0(X,\Omega_X^{\otimes m})} \\
        & =  \dim_kH^0(X,\Omega_X^{\otimes m})^G=-(2m-1)+\sum_{i=1}^r \left\lfloor \frac{m\cdot \delta_i}{l} \right\rfloor
        \end{align*}
    and hence
        \begin{equation*}
        (2m-1)g_X = \sum_{i=1}^r \left\lfloor \frac{m\cdot \delta_i}{l} \right\rfloor
        = \sum_{i=1}^r \left\lfloor \frac{m(l-1)}{l} \right\rfloor
        = r\left( m+\left\lfloor \frac{-m}{l} \right\rfloor \right).
        \end{equation*}
    By choosing $s\in \{1,\ldots ,l\}$ and $q\in \mathbb{N}$ such that $m=ql+s$ we can rewrite this as
        \begin{equation}\label{eq:mult}
        (2m-1)g_X=r(m-q-1).
        \end{equation}
    If we multiply (\ref{eq:mult}) by $l-1$ and then substitute in for the $r(l-1)$ term in the Riemann-Hurwitz formula (Corollary \ref{hur}) we get
        \begin{equation*}
        (2m-1)(l-1)g_X=(2g_X+2(l-1))(m-q-1).
        \end{equation*}
    By rearranging we are able to compute $g_X$ in terms of $m,l$ and $q$:
        \begin{align}\label{equationgxintermsofmandlandq}
        \lefteqn{g_X = \frac{2(l-1)(m-q-1)}{(2m-1)(l-1)-2(m-q-1)}} \nonumber \\
        & =  1 + \frac{2(m-q-1)-(2q+1)(l-1)}{(2m-1)(l-1)-2(m-q-1)}  \nonumber\\
        & =  1 + \frac{2s-1-l}{(2m-1)(l-1)-2(m-q-1)} \nonumber  \\
        & =  1 + \frac{2(s-1)+1-l}{(2m-1-2q)(l-1)-2(s-1)}. 
        \end{align}
    First, we show that if $l\geq 3$ the equation cannot hold whilst $g_X\geq 2$.
    Observe that the denominator is strictly greater than $l-1$, remembering that $m=ql+s$:
        \begin{align*}
        (2m-1-2q)(l-1)-2(s-1) & =  ((2q(l-1)+2s-1)(l-1)-2(s-1) \\
        & \geq  (2s-1)(l-1)-2(s-1) \\
        & \geq  (2s-1)(l-1)-2(s-1)(l-1) \\
        & =  l-1;
        \end{align*}
    here the two inequalities are equalities if and only if $q=0$ and $s=1$, respectively, and, as $m\geq 2$, not both inequalities can be equalities.
    Now the numerator is at most $l-1$, occurring when $s=l$. 
    Hence if $l\geq 3$ the fraction in \eqref{equationgxintermsofmandlandq} will be less than one and $g_X < 2$, contradicting our assumption.
    If $l=2$, then $s$ is either 1 or 2.
    If $s=1$ the fraction is negative, and $g_X<1$, which again contradicts our assumption.
    Finally, if $s=2$ then $g_X\leq 2$, with equality if and only if $q=0$, \ie~if and only if $m=2$.
    So if $g_X \geq 2$ then the action being trivial implies that $g_X=l=m=2$, and the proof is complete.    
    \end{proof}

For the rest of this section we assume that $p>0$ and that $G$ is a cyclic group of order $p^l$ for some $l \in \NN$.
What we are now going to do will not be used in the proof of the main theorem, but is included because it generalises the previous results.
More precisely, we do not restrict ourselves to looking at $H^0(X,\Omega_X^{\otimes m})$, but using a comparatively deep result from \cite{kako} we study $H^0(X,\cO(D))$ for any $G$-invariant divisor $D$ such that $\deg(D)>2g_X-2$.


We first introduce some notation.
Let $D = \sum_{P\in X} n_P[P]$ be a $G$-invariant divisor on $X$.
Then let $\langle a \rangle$ denote the fractional part of any $a\in \mathbb{R}$, \ie $\langle a \rangle = a - \lfloor a \rfloor$.
Also, for any $Q\in Y$ let $n_Q$ be equal to $n_P$ for any $P\in \pi^{-1}(Q)$.




    \begin{prop}\label{nakaj}
    Suppose $p>0$ and $G$ is a cyclic group of order $p^l$ for some $l\geq 1$.
    Let $D$ be a $G$-invariant divisor on $X$ such that $\deg(D)>2g_X-2$.
    Then the action of~$G$ on $H^0(X,\cO_X(D))$ is trivial if and only if
        \[ 
        (p^l-1)\deg(D)=p^l\left(g_X-g_Y-\sum_{Q\in Y}\left\langle \frac{n_Q}{e_Q} \right\rangle\right).
        \]
    \end{prop}
    \begin{proof}
    We first remind the reader of the notation in \cite{kako}.
    Let $\sigma$ be a generator of $G$.
    Let $V$ be the $k[G]$ module with $k$-basis $e_1,\ldots ,e_{p^l}$ and $G$-action defined by $\sigma( e_i)=e_i+e_{i-1}$, $1\leq i \leq p^l,\ e_0=0$.\todo{changed from $\sigma \cdot e_i$ to how is now. Check rest of work for issues}
    Then $V_j$, defined to be the subspace of $V$ spanned by $e_1,\ldots ,e_j$ over $k$, is also a $k[G]$ module.
    In fact, the modules $V_1,\ldots ,V_{p^l}$ form a complete set of representatives for the set of isomorphism classes of indecomposable $k[G]$-modules. For each $j=1,\ldots,p^l$ let $m_j$ denote the multiplicity of $V_j$ in the $k[G]$-module $H^0(X,\cO_x(D))$, \ie we have $H^0(X,\cO_x(D))\cong \oplus_{j=1}^{p^l}m_jV_j$.
    
    
    
    First note that the action of $G$ on $H^0(X,\cO_X(D))$ is trivial if and only if
        \begin{equation}\label{triva}
        \dim_k H^0(X,\cO_X(D))^G =\dim_k H^0(X,\cO_X(D)).
        \end{equation}
    
    It is clear that the $G$-invariant part of each submodule $V_j$ is spanned by $e_1$. 
    Hence $\dim_kH^0(X,\cO_X(D))^G = \sum_{j=1}^{p^l} m_j$.
    By \cite[Thm. 2.1]{quaddiffequi}, which relies on \cite{cohogsheaves}, we have
        \begin{align*}
        \sum_{j=1}^{p^l} m_j & =  1- g_Y +\sum_{Q\in Y} \left\lfloor \frac{n_Q}{e_Q}\right\rfloor\\
        & =  1- g_Y + \sum_{Q\in Y} \left( \frac{n_Q}{e_Q} - \left\langle \frac{n_Q}{e_Q}\right\rangle \right) \\
        & =  1 - g_Y + \frac{1}{p^l}\deg(D) - \sum_{Q\in Y} \left\langle \frac{n_Q}{e_Q} \right\rangle.
        \end{align*}
    
    Now as $\deg(D)>2g_X-2$ we have $\dim_kH^0(X,\cO_X(D)) =\deg(D)+1-g_X$ by the Riemann-Roch theorem. 
    So the action of $G$ on $H^0(X,\cO_X(D))$ is trivial if and only if
        \begin{equation*}
        \deg(D)+1-g_X  = 1 - g_Y + \frac{1}{p^l}\deg(D) - \sum_{Q\in Y}\left\langle \frac{n_Q}{e_Q} \right\rangle. \label{hi}
        \end{equation*}
    
    This then rearranges to $(p^l-1)\deg(D)=p^l\left(g_X-g_Y-\sum_{Q\in Y}\left\langle \frac{n_Q}{e_Q} \right\rangle\right)$, as desired.
    \end{proof}

    \begin{cor}\label{this}
    Suppose that $\deg(D)\geq 2g_X$. Then the action of $G$ on $H^0(X,\cO_X(D))$ is trivial if and 
    only if $g_Y = 0$, $e_Q | n_Q$ for all $Q\in Y$, $\deg(D)=2g_X$ and either $g_X=0$ or $p^l=2$.
    \end{cor}
    \begin{proof}
    The following inequalities always hold under the stated assumptions:
        \begin{multline}
        (p^l-1)\deg(D)\geq (p^l-1)2g_X \geq p^lg_X \geq p^lg_X-p^l\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle \\ \geq p^l\left( g_X - g_Y -\sum_{Q\in Y}\left\langle \frac{n_Q}{e_Q} \right\rangle \right).
        \end{multline}
    Now the first inequality is an equality if and only if $\deg(D)=2g_X$. 
    The second is an equality if and only if either $g_X=0$ or $p^l=2$. 
    The third inequality is an equality if and only if $\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle=0$, which is the case if and only if each $n_Q$ is divisible by~$e_Q$. 
    Lastly, the fourth inequality is an equality if and only if $g_Y = 0$.
    Given these observations, Proposition \ref{nakaj} implies Corollary~\ref{this}.
    \end{proof}

The following Corollary slightly strengthens the only if direction of the $l=p$ part of Proposition \ref{triv}
(from $\ord(G) = p$ to $\ord(G) = p^l$) and also provides a different proof for it;
note that this new proof relies on the comparatively deep result result in section 7 of \cite{cohogsheaves}.


    \begin{cor}
    Let $m \geq 2$ and let $G$ be a cyclic group of order $p^l$ for some $l$. 
    If $G$ acts trivially on $H^0(X,\Omega_X^{\otimes m})$, then $g_Y = 0$ and $p^l = g_X = m = 2$.
    \end{cor}
    \begin{proof}
    As $g_X \geq 2$ and $m\geq 2$ we have $\deg(mK_X) \geq 2g_X$. 
    So, if the action of $G$ on $H^0(X,\Omega_X^{\otimes m})$ is trivial, we obtain from Corollary \ref{this} that $\deg(mK_X) = 2g_X$, $p^l = 2$ and $g_y = 0$.
    Now $\deg (mK_X) = 2g_X$ implies that $m(2g_X -2 ) = 2g_X$, so $m(g_X -1) = g_X$ and hence $m=g_X=2$.
    \end{proof}

Similarly to the case $\deg(D)\geq 2g_X$ in Corollary \ref{this}, the following corollary derives necessary and sufficient conditions for trivial action from Proposition \ref{nakaj} in the case $\deg(D) =2g_X-1$.



    \begin{cor}
    Suppose that $\deg(D)= 2g_X-1$ and that $g_Y=0$. Then the action of $G$ on $H^0(X,\cO_X(D))$ is trivial if and only if one of the following conditions hold:
        \begin{itemize}
        \item  $p^l=2$ and $\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle=\frac{1}{2}$;
        \item  $g_X=2$, $p^l=3$ and $e_Q\mid n_Q$ for all $Q\in Y$.
        \end{itemize}
    \end{cor}


    \begin{rem}
    It can easily be shown that in the last case the Riemann-Hurwitz formula implies that $r\leq 4$. 
    Furthermore, if $r=1$ then the conditions ``$\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle=\frac{1}{p^l}$" and ``$e_Q\mid n_Q$ for all $Q\in Y$" are already implied by ``$\deg(D)=2g_X-1$".
    \end{rem}

    \begin{proof}
    Firstly, if $g_X=0$ then $\deg(D)=-1<0$, so $\dim_kH^0(X,\cO_X(D))=0$ and the action is trivial.
    
    Now note that, as $\deg(D)=2g_X-1$, we conclude from Proposition \ref{nakaj} that the action is trivial if and only if 
        \begin{equation*}
        (p^l-1)(2g_X-1)=p^l\left(g_X-\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle\right).
        \end{equation*}
    If $p^l=2$ then this is equivalent to $2g_X-1=2g_X-2\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle$ and hence to $\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle=\frac{1}{2}$.
    
    If $g_X=1$ then this is equivalent to $p^l-1=p^l-p^l\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle$ and hence is also equivalent to $\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle=\frac{1}{p^l}$.
    
    Lastly, if $p^l\geq 3$ and $g_X\geq 2$ then we have that $g_X\geq \frac{p^l-1}{p^l-2}$ which is equivalent to the first inequality in the chain
        \begin{equation*}
        (p^l-1)(2g_X-1)\geq p^lg_X\geq p^lg_X-p^l\sum_{Q\in Y}\left\langle\frac{n_Q}{e_Q}\right\rangle \geq p^l\left( g_X - g_Y -\sum_{Q\in Y} \left\langle \frac{n_Q}{e_Q} \right\rangle \right).
        \end{equation*}
    Hence the action is trivial if and only if both inequalities are equalities, which is the case if and only if $p^l=3,\ g_X=2$, $e_Q\mid n_Q$ for all $Q\in Y$ and $g_Y = 0$.
    \end{proof}


\section{The main theorem}\label{maintheoremsection}
In this section we prove the main theorem of this chapter, describing exactly when $G$ will act faithfully on $H^0(X,\Omega_X^{\otimes m})$.


    \begin{thm}\label{theoremfaithfulaction}
    Suppose that $g_X\geq 2$ and let $m\geq1$. 
    Then $G$ does not act faithfully on $H^0(X,\Omega_X^{\otimes m})$ if and only if $G$ contains a hyperelliptic involution and one of the following two sets of conditions holds:
        \begin{itemize}
        \item $m=1$ and $p=2$;
        \item $m=2$ and $g_X=2$.
        \end{itemize}
    \end{thm}
    \begin{proof}
    We first show the if direction. 
    In the case when $m=1$, the hyperelliptic involution contained in $G$ generates a subgroup of order $2$.
    Since $p=2$, this acts trivially by Proposition \ref{m=1}, and hence $G$ does not act faithfully.
    In the case when $m=2$, then again looking at the subgroup generated by the hyperelliptic involution, we have a group of order $2$ acting on $H^0(X,\Omega_X^{\otimes m})$.
    So, by Proposition \ref{triv} and since $g_X=m=2$, the action of this subgroup is trivial, and again, this means that $G$ does not act faithfully.
    
    
    We now start the proof of the only if direction, supposing that $G$ does not act faithfully on $H^0(X,\Omega_X^{\otimes m})$. 
    By replacing $G$ with the (non-trivial) kernel $H$ if necessary, we may assume that $G$ is non-trivial and acts trivially on $H^0(X,\Omega_X^{\otimes m})$.
    
    
    We start the proof by showing that $g_Y=0$, which is shown separately for the cases when $m=1$ and when $m\geq 2$.
    In the case when $m=1$ we start by showing that $\deg  \left\lfloor \frac {\pi_*(R)}{n} \right\rfloor >0$ by contradiction.
    Suppose that $\deg\left\lfloor \frac{\pi_*(R)}{n} \right\rfloor =0$.
    As $G$ acts trivially it follows from Proposition~\ref{dim} that:
        \begin{equation*}
        g_X=\dim_k H^0(X,\Omega_X)=\dim_k H^0(X,\Omega_X)^G=g_Y.
        \end{equation*}
    Substituting this into the Riemann-Hurwitz formula (Corollary \ref{hur}) yields the desired contradiction because $g_X\geq 2, n\geq 2$ and $\deg(R)\geq 0$.
    
    Thus $\deg\left( \left\lfloor \frac{\pi_*(R)}{n} \right\rfloor \right) >0$. 
    Now Proposition~\ref{dim} gives us that
        \begin{equation*}
        g_X=\dim_k H^0(X,\Omega_X)=\dim_k H^0(X,\Omega_X)^G= g_Y-1+\deg\left\lfloor \frac{\pi_*(R)}{n} \right\rfloor.
        \end{equation*}
    Substituting this in to the Riemann-Hurwitz formula we see that
        \begin{equation*}
        2\left(g_Y - 1 + \deg\left \lfloor \frac{\pi_*(R)}{n} \right \rfloor -1 \right) = 2n (g_Y -1) + \deg(R).
        \end{equation*}
    For any $Q \in Y$ we let $\delta_Q$ denote the coefficient of the ramification divisor $R$ at any $P \in \pi^{-1}(Q)$ and let $e_Q := e_P$ for any $P \in \pi^{-1}(Q)$. 
    Rewriting the previous equation then yields
        \begin{align*}
        \lefteqn{(2n-2)g_Y = 2n-4 + 2 \,\deg\left \lfloor \frac{\pi_*(R)}{n}\right \rfloor - \deg(R)}\\
        &= 2 \left(n-2 + \sum_{Q \in Y} \left(\left\lfloor \frac{n}{e_Q} \frac{\delta_Q}{n} \right\rfloor - \frac{n}{e_Q} \frac{\delta_Q}{2}\right) \right)\\
        &= 2 \left(n-2 + \sum_{Q \in Y} \left( \left\lfloor \frac{\delta_Q}{e_Q} \right\rfloor - \frac{\delta_Q}{e_Q} \frac{n}{2} \right)\right)\\
        & \le  2(n-2),
        \end{align*}
    because $\frac{n}{2} \ge 1$ and $\left\lfloor \frac{\delta_Q}{e_Q}\right\rfloor \le \frac{\delta_Q}{e_Q}$ for all $Q \in Y$. 
    Hence we obtain $g_Y \le \frac{n-2}{n-1} < 1$ and therefore $g_Y =0$, as desired.
    
    We now show that $g_Y=0$ when $m\geq 2$. 
    Since $g_X\geq 2$ we have that $\deg(mK_X)=m(2g_X-2)>2g_X-2=\deg(K_X)$.
    By Lemma \ref{dim3}, and as both $m$ and $g_X$ are at least 2, then $\dim_kH^0(X,\Omega_X^{\otimes m})^G=\dim_kH^0(X,\Omega_X^{\otimes m})=(2m-1)(g_X-1)>1$.
    There is only one case in Proposition \ref{dim} such that $m\geq 2$ and $\dim_k H^0(X,\Omega_X^{\otimes m})^G>1$, which yields 
        \begin{equation*}
        (2m-1)(g_X-1)=(2m-1)(g_Y-1)+\deg\left(\left\lfloor \frac{m\pi_*(R)}{n} \right\rfloor \right).
        \end{equation*}
    Combining this with the Riemann-Hurwitz formula, Corollary \ref{hur}, we see that
        \begin{align*}
        2(2m-1)(g_Y-1)+2\deg\left(\left\lfloor\frac{m\pi_*(R)}{n}\right\rfloor\right) & =  2(2m-1)(g_X-1)\\
        & =  2n(2m-1)(g_Y-1)+(2m-1)\deg(R),
        \end{align*}
    which can be re-arranged as
        \begin{equation*}
        (2m-1)(2n-2)(g_Y-1)=2\deg\left(\left\lfloor\frac{m\pi_*(R)}{n}\right\rfloor\right)-(2m-1)\deg(R).
        \end{equation*}
    So if we can show that the right hand side of this equation is negative then we will have $g_Y-1<0$ and hence $g_Y=0$, as desired.
    
    Using the same notation as in the case when $m=1$, we calculate:
        \begin{align*}
        2\deg\left(\left\lfloor\frac{m\pi_*(R)}{n}\right\rfloor\right)-(2m-1)\deg(R) & = \sum_{Q \in Y} \left(2\left\lfloor m\cdot \frac{n}{e_Q}\frac{\delta_Q}{n}\right\rfloor -n(2m-1)\frac{\delta_Q}{e_Q}\right) \\
        & \leq   \sum_{Q\in Y}\left( 2m\cdot\frac{\delta_Q}{e_Q}-n(2m-1)\frac{\delta_Q}{e_Q}\right) \\
        & =  (2m-n(2m-1))\sum_{Q\in Y }\frac{\delta_Q}{e_Q}.
        \end{align*}
    
    Now as $n,m\geq 2$ then we have $2m-n(2m-1)\leq 2m-2(2m-1)=2(1-m)<0$ and we are done as $\sum_{Q\in Y}\frac{\delta_Q}{e_Q}$ is positive.
    
    So we have shown for all $m\geq 1$, if the group $G$ acts trivially  on $H^0(X,\Omega_X^{\otimes m})$ then $g_Y=0$.
    Now if $m\geq 2$ then first note that $G$ must contain a cyclic subgroup of prime order, say $H$, such that $H$ acts trivially on $H^0(X,\Omega_X^{\otimes m})$.
    Now Proposition \ref{triv} tells us that $m=g_X=2$, and that the order of $H$ must also be 2.
    Hence $X/H\cong \mathbb{P}_k^1$, and this completes the only if direction for $m\geq 2$.
    
    Similarly, the $m=1$ case of the only if direction will follow from Proposition \ref{m=1} after we show that $p>0$ and there is a cyclic subgroup of $G$ of order $p$. 
    This is true since $\pi$ cannot be tamely ramified.
    Indeed, if it were then $R=\sum_{P\in X} (e_P-1)[P]$ \cite[Chap. IV, Cor. 2.4]{hart}, and $\deg\left\lfloor \frac{\pi_*(R)}{n} \right\rfloor=0$, which we have already shown cannot be the case.
    Hence $p$ must be positive, and there is a cyclic subgroup of order $p$ which acts trivially.
    \end{proof}

    \begin{rem}
    Note that the existence of a hyperelliptic involution $\sigma$ in $G$ means not only that the genus of $X/\langle \sigma \rangle$, but also the genus of $Y=X/G$, is $0$ (by the Riemann-Hurwitz formula).
    If, moreover $p=2$, then the canonical projection $X\rightarrow X/\langle \sigma \rangle$ is not unramified (again by the Riemann-Hurwitz formula) and hence not tamely ramified; then $\pi$ cannot be tamely ramified either.
    \end{rem}


\section{Examples}
We will now give some examples of a finite group acting on a curve, and the consequent action on the holomorphic poly-differentials. 
We start with some examples in which $G$ acts trivially on $H^0(X,\Omega_X^{\otimes m})$.
We then follow this with the example of hyperelliptic curves, for which we compute an explicit basis of $H^0(X,\Omega_X^{\otimes m})$, allowing us to see when the action is trivial.


\subsection{Trivial Examples}\label{examplessection}


(a) Let $g_X = 0$, \ie $X\cong \mathbb P_k^1$.
Then $\deg(K_X) = -2$ and so $\deg(mK_X) < 0$ for $m~\geq~1$.
Hence $H^0(X,\Omega_X^{\otimes m}) =\{0\}$ by \cite[Lem. 2, pg. 295]{hart}\todo{check citation} and $G$ acts trivially on $H^0(X,\Omega_X^{\otimes m})$ for all $m\geq 1$.

(b) Let $g_X = 1$, \ie $X$ is an elliptic curve.
If $G$ is a finite subgroup of $X(k)$ acting on $X$ by translations, then $G$ leaves invariant any global non-vanishing holomorphic differential $\omega$ and hence $G$ acts trivially on $H^0(X,\Omega_X)$;
since $\omega^{\otimes m}$ is a basis of $H^0(X,\Omega_X^{\otimes m})$ this means that $G$ acts trivially on $H^0(X,\Omega_X^{\otimes m})$ for all $m\geq 1$.

If $p>0$ and $G$ is a $p$-group, then the multiplicative character $G\rightarrow k^*$ afforded by the one-dimensional representation $H^0(X,\Omega_X^{\otimes m})$ of $G$ has to be trivial because $k$ doesn't contain any $p^{\mbox{th}}$ roots of unity;
in particular the action of $G$ on $H^0(X,\Omega_X^{\otimes m})$ is trivial as well.
On the other hand, if $p\neq 2$ and $X$ is given by the Weierstrass equation of the form $y^2 = f(x)$, then the involution $\sigma : (x,y) \rightarrow (x,-y)$ maps the invariant differential $\omega = \frac{dx}{y}$ to $-\omega$.


\subsection{Hyperelliptic curves, characteristic unequal to 2}\label{charneq2}
Let $X$ be a smooth, projective, connected, hyperelliptic algebraic curve of genus $g$ over an algebraically closed field $k$, with $\cha (k) \neq 2$.
Let $x:X\rightarrow \mathbb{P}_k^1$ be the corresponding holomorphic map of degree $2$.
This curve then has a corresponding degree two extension $k(x,y)$ of the rational function field in one variable over $k$, $K(\mathbb P_k^1) = k(x)$, where
   \begin{equation}\label{definingequation}
   y^2 = f(x)
   \end{equation}
for some $f(x)\in k[x]$ with no repeated roots (see, for example, \cite[Rem. 7.4.25]{liu}).
Also, the degree of $f(x)$ must be $2g+1$ or $2g+2$, as will be shown in the next paragraph.
In the first case then $\infty \in \mathbb P_k^1$ will be a branch point, where as in the second case it is not.

We now show some preliminary results about $x$. 
Firstly, $x$ is ramified at precisely $2g + 2$ branch points.
This follows from computing the degree of the ramification divisor $R$ of $x$.
By the Riemann-Hurwitz formula, Corollary \ref{hur},
    \[ 
    \deg(R) = 2g -2 +2\cdot 2 = 2g + 2.
    \]
Since $x$ is of degree $2$ and at most tamely ramified, the coefficients of the ramification divisor are $1$ (see the start of Section \ref{dimsection}), and hence $R = p_1 + \ldots + p_{2g+2}$, for distinct $p_i\in X$.
We let $a_i = x(p_i)$ and $D_i = \di_{a_i}(x)$.
Moreover, for a general point $a \in \mathbb P_k^1$ we let $D_a = \di_x(x)$.
We now show that the ramification points correspond to the zeroes of $f(x)$.
Since there are no repeated roots in $f(x)$, then \eqref{definingequation} defines a non-singular affine curve $X'$, with a degree two projection $x': X'\rightarrow \mathbb A_k^1$.
Clearly for any point $a\in \mathbb A_k^1$ which is not a solution to $f(x)$, then there are two points in the pre-image, namely $(a,\pm \sqrt{a})$, and the point is not ramified.
On the other hand, if $a\in \mathbb A_k^1$ is a solution to $f(x)$, then there is only one point in the pre-image and hence it is ramified.
Since there are $2g+2$ solutions of $f(x)$, and the degree of $R$ is $2g+2$, then we conclude that these are all the ramification points.

Next we will need to define precisely what the divisor of a poly-differential is.
If we consider an element of the tensor product $\omega \in \Omega_X^{\otimes m}$ then it can be locally written as $y dx_1\otimes \ldots \otimes dx_m$, where $x_i \in K(X)$ for all $1 \leq i \leq m$.
Let $P$ be a point in $X$.
Since each $dx_i$ can be written as $y_i dt$ for some $y_i\in K(X)$ and some uniformising parameter $t$ at $P$, we can rewrite $\omega$ as $y' dt \otimes \ldots \otimes dt$, where $y' = y \cdot y_1 \cdots y_m$.
We then define the order of $\omega$ at $P$ to be $\ord_P(\omega ) := \ord_P(y')$.
In the particular case where $\omega = fdx \otimes \ldots \otimes fdx = f^m dx^{\otimes m}$, then we have $y_1 = \ldots = y_m = z$ for some $z$ when we change $x$ to a uniformising parameter.
Hence in this instance 
    \[ 
    \ord_P(\omega) = \ord_P(z^m) = m\ord_P(z) = m\ord_P(dx).
    \]



    \begin{prop}\label{prophyperellipticbasispnot2}
    Let $m\geq 1$.
    Let $X$, $x$ and $y$ be as above, and let $\omega := \frac{dx^{\otimes m}}{y^m}$. 
    Then if $g\geq 2$, a basis of $H^0(X,\Omega_X^{\otimes m})$ is given by:
        \begin{itemize}
        \item $\omega, x\omega, \ldots , x^{g-1}\omega$ if $m=1$ 
        \item $\omega, x\omega, x^2\omega$  if $m=g=2$ 
        \item $\omega, x\omega, \ldots, x^{m(g-1)}\omega;\  y\omega, xy\omega, \ldots x^{(m-1)(g-1)-2}y\omega$ otherwise.
        \end{itemize}
    \end{prop}
    
    \begin{rem}
    Note that the case where $m=1$ is treated in \cite[Prop. 7.4.26]{liu} and \cite[Ch. IV, \S 4, Prop. 4.3]{griffiths}.
    \end{rem}
    
    \begin{proof}
    We first show that the elements are linearly independent over $k$.
    Since $\omega$ is fixed, it is equivalent to show that the coefficients are linearly independent over $k$ - \ie that $1,x,\ldots ,x^n, y, xy, x^ly$ are linearly independent over $k$ for any $n$ and $l$.
    But the only part of this which is not clear is when the coefficients are not just in $x$, but then it follows since the extension would otherwise be of degree 1.
    To show that they are indeed holomorphic differentials, we show that their divisors are greater than $0$.
    We first compute the divisors associated to $x$, $y$ and $dx^{\otimes m}$.
    
    Let $D_0 = [p']+[q']$ with $p',q' \in X$ (note that we could have $p' = q'$) be the divisor of zeroes of $x$. 
    Then $ i D_0$ is the divisor of zeroes of $x^i$. 
    If we also let $D_\infty = [p] + [q]$, with $p$ and $q$ defined as above, be the divisor of poles of $x$. 
    So overall $\di (x^i) = i D_0 - i D_\infty$.
    
    
    To compute $\di (dx^{\otimes m})$, we first note that it suffices to compute the divisor of $dx$, since $\di (dx^{\otimes m}) =m\di (dx)$, as noted above.
    Since $x$ can viewed as the projection of $X$ on to the projective line, or as a function on the projective line, we will use $\di_X (dx)$ and $\di_{\mathbb P^1} (dx)$ to differentiate these cases.
    We first recall that the Riemann-Hurwitz formula (Theorem \ref{theoremdetailedhurwitz}) tells us that
        \[
        \di_X (dx) = \pi^*( \di_{\mathbb P^1}(dx)) + R = R - 2D_{\infty},
        \]
    since $\di_{\mathbb P^1}(dx) = -2[\infty]$ and hence $\pi^* (\di_{\mathbb P^1}(dx)) = -2D_\infty$.
    
    Finally, we compute $\di (y)$.
    Since $\di (y^2) = \di (f(x))$ and hence $\di(y) = \frac{1}{2}\di(f(x))$, we need only compute the divisor of $f(x)$.
    As noted earlier, the solutions to $f$ correspond to the ramification points.
    So for any $P\notin x^{-1}(\infty)$ then $\ord_P(y) =  \frac{1}{2}\ord_P(f(x)) = 1$ if $P$ is a ramification point, and $\ord_P(y) = \frac{1}{2}\ord_P(f(x)) = 0$ otherwise.
    Finally, if $P\in x^{-1}(\infty)$, then $\ord_P(y)  = \frac{1}{2}\ord_P(f(x)) = - \frac{1}{2} (2g+2) = -(g+1)$.
    So, overall, we have 
        \[
        \di(y) = \sum_{i=1}^{2g+2} [p_i]- (g+1)D_\infty = R - (g+1)D_{\infty}.
        \]
    
    We now show that the differentials listed in Proposition \ref{prophyperellipticbasispnot2} are holomorphic.
    We consider the first two cases together.
    So if $m=1$ or $m\geq 2$, $g\geq 2$ then we have that
        \begin{align*}
        \di(x^i\omega) & =  \di \left( \frac{x^idx^{\otimes m}}{y^m} \right)\\ 
        & =  i(D_0 -D_\infty) + m(R-2D_\infty) -m(R-(g+1)D_\infty) \\
        & =  iD_0 + (mg -m -i)D_\infty \\
        & =  iD_0 + (m(g-1) -i)D_\infty,
        \end{align*}
    which is positive for $0\leq i \leq m(g-1)$.
    Note that if $m=g=2$ then there are three elements, and since $\dim_kH^0(X,\Omega_X^{\otimes 2})=3$ by Lemma \ref{dim3}, these elements form a basis.
    Also, if $m=1$ then by Riemann-Roch $\dim_k H^0(X,\Omega_X)=g$, and we have $g$ linearly independent elements, so they again must form a basis.
    
    
    
    Now we consider the case where $m\geq 2$ and $g \geq 2$ and at least one of these inequalities is strict.
        \begin{align*}
        \di (x^iy\omega) & =  \di(x^i\omega) + R -(g+1)D_\infty \\
        & =  iD_0 + R +((m-1)(g-1)-2-i)D_\infty,
        \end{align*}
    which is positive for $0\leq i \leq (m-1)(g-1)-2$.
    By Lemma \ref{dim3} we know that 
        \[
        \dim_kH^0(X,\Omega_X^{\otimes m}) = (2m-1)(g-1).
        \]
    Since the number of differentials listed in the last case of the proposition is precisely
        \[
        (m-1)(g-1)-1 + m(g-1) +1 = 2mg -2m -g + 1 = (2m-1)(g-1)
        \]
    it is clear that these elements form a basis.
    \end{proof}

We denote by $\sigma$ the automorphism of $X$ of order 2, which maps each point to its corresponding point in the pre-image of $x$.
Since $\sigma(y) = -y$, and $\sigma$ acts trivially on $x$, we can see that in the case where $m=g=2$ the action will be trivial, since the only power of $y$ is two, and of course $y^2 = (-y)^2$.
In any other case we have an odd power of $y$ in the basis, and hence the action of $\sigma$ is not trivial.
This proves the main theorem for hyperelliptic curves over a field of characteristic not equal to 2.




\subsection{Hyperelliptic curves, characteristic 2}
Let $X$ be a smooth, projective, connected hyperelliptic algebraic curve of genus $g$ over an algebraically closed field $k$ of characteristic two.
Let $\pi:X \rightarrow \mathbb P_k^1$ be the corresponding holomorphic map of degree two.
By \cite[Prop. 7.4.24]{liu} this curve has a corresponding degree two extension $k(x,y)$ of the function field of one variable over $k$, $k(x)$, where
    \begin{equation}\label{ext}
    y^2 - h(x)y = f(x)
    \end{equation}
for some polynomials $h(x), f(x)\in k[x]$, with maximum degrees of $g+1$ and $2g+2$ respectively.
We now show what conditions the smoothness of the curve imposes on $f(x)$ and $h(x)$.



    \begin{lem}\label{smoothness}
    Since the curve is smooth we have $h(x)$ and $h'(x)^2 f(x) + f'(x)$ have no common zeroes on $X$.
    \end{lem}
    \begin{proof}
    The Jacobian criterion (see, for example, \cite[Thm. 4.2.19]{liu}), states that if the derivatives of \eqref{ext} with respect to $x$ and with respect to $y$ are zero at a point $P\in X$ then the curve is not smooth, and otherwise it is.
    Clearly
        \[
        \frac{d}{dy} (y^2 -h(x)y -f(x)) = h(x)
        \]
    since the characteristic of $k$ is 2.
    On the other hand,
        \[
        \frac{d}{dx} (y^2 - h(x)y -f(x)) = h'(x)y - f'(x).
        \]
    Since this is zero if and only if its square is zero, $h(x)$ and $h'(x)^2 f(x) + f'(x)$ have a common zero if and only if
        \[
        (h'(x)y-f'(x))^2 = h'(x)^2y^2 -f'(x)^2 = h'(x)^2h(x)y + h'(x)^2f(x) - f'(x)^2
        \]
    and $h(x)$ are zero at some $P\in X$.
    But this is the case if and only if $h(x) = 0$ and $h'(x)^2f(x) + f'(x) = 0$ at $P$, which is what we wished to show.
    \end{proof}

By an automorphism of $\mathbb P_k^1$, similarly to the previous subsection, we can assume that $\infty\in \mathbb P_1^k$ is a branch point.
As will be shown, this means that the degree of $h(x)$ is strictly less than $g+1$.
By \cite[Prop. 7.4.24]{liu} this also forces the degree of $f(x)$ to be $2g+1$.
We will show that this also means that
Let $d$ be the degree of $h(x)$, and let $k< g+1$ be the number of distinct roots of $h(x)$ in $\mathbb A_k^1$.
We will denote by $\sigma$ the automorphism of order two on $X$, which sends each point to its corresponding point in the preimage of $\pi$. 
Note that we have $X/\langle \sigma \rangle \cong \mathbb P_k^1$.


We first describe the ramified points of $\pi$, in order to compute the ramification divisor.
By Lemma \ref{smoothness} if we consider the affine curve defined by this equation it will be smooth.
We denote this curve by $X'$.
Then $\pi$ restricts to a map $X'\rightarrow \mathbb A^1_k$, the projection on to the $x$ co-ordinate.
Let $a\in \mathbb A_k^1$.
Then if $(a,b)$ is a point in $\pi^{-1}(a)$, so is the point $(a,b+h(a))$, which is clearly distinct if and only if $h(a)\neq 0$.
Since the extension is degree two, this shows that the ramified points in the affine part correspond to the roots of $h(x)$.
We denote the zeroes of $h(x)$ by $a_i$ for $1\leq i \leq k$.
For each $a_i$ there is a corresponding $b_i$, which is the square root of $f(a_i)$.
We will also denote the corresponding ramification point by $P_i$.
If the point at infinity is also a branch point, the point that maps to infinity will be written $P_{\infty}$.

We will now compute the ramification divisor.


    \begin{lem}\label{char2ramification}
    Let $n_i$ be the order of $h(x)$ at $a_i\in \mathbb A_k^1$.
    Then the coefficient $\delta_P$ of the ramification divisor $R$ at $P\in X$ is given by
        \[
        \delta_P = \left\{
            \begin{array}{ll}
            2n_i & \text{if }\ P=P_i\ \text{ for some }\ i \in \{1,\ldots ,k\}, \\
            2(g+1-d) & \text{ if }\  P=P_\infty, \\
            0 & \text{ otherwise.} 
            \end{array}
        \right.
        \]
    \end{lem}
    \begin{proof}
    We first show that it will suffice to prove that the coefficient of $[P_i]$ is $2n_i$ for $1\leq i \leq k$.
    Note that by the Riemann-Hurwitz formula $\deg(R) = 2g+2$.
    Then the coefficient at $P_\infty$ is $\deg(R) - \sum_{i=1}^k2n_i$, which, by the Riemann-Hurwitz formula (Corollary \ref{hur}), is equal to $2g+2-2d = 2(g+1-d)$, as stated.
    
    Let $P=P_i$ for some $i\in \{1,\ldots , k\}$.
    Then $y-b_i$ is a local parameter at $P$.
    To see this, note that the maximal ideal $\mathfrak m_{P}$ of the local ring $\cO_{X,P}$ at $P$ is generated by $x-a_i$ and $y-b_i$.
    But $x-a_i\in \mathfrak m_{P}^2$ since $\pi$ is ramified at $P$ with ramification index 2.
    By Nakayama's lemma \cite[Prop. 2.6]{atiyahmacdonald},\todo{check citation} $y-b_i$ is therefore a local parameter at $P$.\todo{more specific citation}
    
    Using Hilbert's formula \cite[Chap. IV, \S 1, Prop. 4]{localfields} we obtain
        \begin{align*}
        \delta_P & =  \sum_{i\geq 0} \left(\ord(G_i(P))-1\right) \\
        & =  \max\left\{ i\in \NN | G_i(P)\neq \{1\}\right\} + 1 \\
        & =  \ord_{P}(\sigma(y-b_i) - (y-b_i)).
        \end{align*}
    
    By an argument similar to that used to show the correspondence between the solutions of $h(x)$ and the ramification points, it is clear $\sigma(y)=y+h(x)$.
    The following calculation then concludes the proof,
        \begin{align*}
        \delta_P & =  \ord_{P}(\sigma(y-b_i) - (y-b_i)) \\
        & =  \ord_{P}(y-b_i+h(x) - y + b_i) \\
        & =  2\ord_{a_i}(h(x)) \\
        & =  2n_i.
        \end{align*}
    \end{proof}



We will now compute the divisors associated to $h(x)$, $x$ and $y$ in $K(X)$, and also to $dx$.
If $a\in \mathbb P_k^1$ is a branch point, we denote the point in the pre-image by $P_a$, otherwise we denote the points in the pre-image by $P_a'$ and $P_a''$.
In order to simplify our calculations we let $D_a := \pi^*([a])$ for any $a\in \mathbb P_k^1$.
These will allow us to consider the case when 0 is or is not a branch point simultaneously. 
We now compute the divisors of all the elements required to form a basis of $H^0(X,\Omega_X^{\otimes m})$.

    \begin{lem}\label{xchar2}
    The divisor of $x\in K(X)$ is 
        \[
        \di (x)= D_0 - D_\infty.
        \]
    \end{lem}
    \begin{proof}
    Given our notations above, this is clear.
    \end{proof}


    \begin{lem}\label{dxchar2}
    Let $m\geq 1$.
    The divisor associated to the poly-differential $dx^{\otimes m}$ is 
        \[
        \di (dx^{\otimes m}) =mR + m(g-1-d)D_\infty
        \]
    \end{lem}
    \begin{proof}
    We first note that it suffices to compute $\di (dx)$, since $\di (dx^{\otimes m}) = m\di (dx)$, as described above.
    
    Now we compute the divisor of $dx$.
    We will need to consider the divisor of $dx$ both as a differential on $X$ and on $\mathbb P_k^1$. 
    We will use the notation of $\di_X(dx)$ and $\di_{\mathbb P^1}(dx)$ to differentiate between the two cases.
    Then the Riemann-Hurwitz formula (Theorem \ref{theoremdetailedhurwitz}) states that
        \[
        \di_X( dx) = \pi^*\di_{\mathbb P^1}(dx) + R.
        \]
    Now we have already computed $R$ in Lemma \ref{char2ramification}, and $\pi^*\di_{\mathbb P^1}(dx) = -2D_\infty$ hence we have
        \[
        \di_X( dx) = \sum_{i=1}^k 2n_iP_i + (g+1-d)D_\infty - 2D_\infty = \sum_{i=1}^k D_{a_i} + (g-1-d)D_\infty.
        \]
    Multiplying through by $m$ we obtain the desired result.
    \end{proof}



    \begin{lem}\label{h(x)char2}
    The divisor associated to $\frac{1}{h(x)}$ is
        \[
        \di \left(\frac{1}{h(x)}\right) = - \sum_{i=1}^k D_{a_i} + dD_\infty = dD_\infty - R
        \]
    \end{lem}
    \begin{proof}
    Since $\pi$ is ramified at infinity then $\ord_{P_{\infty}}\left(\frac{1}{h(x)}\right) = -\ord_{P_{\infty}}(h(x)) = 2d$.
    If it is not ramified, then $\ord_{P_{\infty}'}\left(\frac{1}{h(x)}\right) = \ord_{P_{\infty}''}\left(\frac{1}{h(x)}\right)=d$.
    For the ramified points $P_i$, $1\leq i \leq k$, then $\ord_{P_i}\left(\frac{1}{h(x)}\right) = -\ord_{P_i}(h(x))= -2n_i$.
    At any other point of $X$ the order of $\frac{1}{h(x)}$ is clearly zero.
    \end{proof}

We again consider the affine curve $X'$, and we let $\alpha_i \in \mathbb A_k^1$, for $1\leq i\leq l \leq 2g+1$, be the zeroes of $f(x)$.
If $\alpha_i$ corresponds to a branch point then we label the unique point in $X$ that maps to it $Q_i$.
Otherwise there are two points that map to it, and we denote these 
    \[  
    Q_i:=(\alpha_i,0)\ \text{ and}\ Q_i':=(\alpha_i,h(\alpha_i)).
    \]


    \begin{lem}\label{ychar2}
    Let $m_i$ be the order of $f(x)$ at $\alpha_i\in \mathbb A_k^1$.
    Then 
        \[
        \di(y) = \sum_{i=1}^l m_i[Q_i] - (2g+1)[P_\infty].
        \]
    \end{lem}
    \begin{proof}
    First note that if $P\in X'$ is not a zero of $f(x)$ (\ie $P\neq Q_i$ for any $i$), then it is clear that $y|_P \neq 0$.
    Indeed, if it were zero then $f(x)|_P = y^2 + h(x)y|_P = 0$, a contradiction.
    
    If $Q_i$ is not ramified then $h(\alpha_i) \neq 0$, and $y|_{Q_i} = 0$, hence $y+h(x)$ is a unit at $Q_i$.
    Since $y(y+h(x)) = f(x)$, we have
        \[
        \ord_{Q_i}(y) = \ord_{Q_i}\left(\frac{f(x)}{y+h(x)}\right) = \ord_{Q_i}(f(x)) -\ord_{Q_i}(y+h(x)) = m_i.
        \]
    
    This only leaves the case when $Q_i$ is ramified. 
    In this case we must have $m_i=1$.
    Otherwise we would also have $f'(x)|_{Q_i} = 0$, and since we also have $h(x)|_{Q_i} = f(x)|_{Q_i} = 0$ this would contradict Lemma \ref{smoothness}.
    So if we let $\tilde f(x) := \frac{f(x)}{x-\alpha_i}$ and $\tilde h(x) := \frac{h(x)}{x-\alpha_i}$ then $\tilde f(x)$ is a unit at $Q_i$.
    Then we have 
        \[
        y^2 = f(x) - yh(x) = (x-\alpha_i)(\tilde f(x) - \tilde h(x)y).
        \]
    Hence
        \[
        \ord_{Q_i}(y^2) = \ord_{Q_i}(x-\alpha_i) + \ord_{Q_i}(\tilde f(x) - \tilde h(x)y).
        \]
    But since $\tilde f(x) - \tilde h(x) y$ does not have an affine pole, and $\tilde f(x)$ is a unit at $Q_i$, and $Q_i$ is a zero of $\tilde h(x) y$, it follows that $\ord_{Q_i}(\tilde f(x) -  \tilde h(x) y) = 0$
    and hence $\ord_{Q_i}(y^2) = \ord_{Q_i}(x-\alpha_i) = 2$, and we have determined the zero divisor of $y$.
    
    Since there is only one point at which $y$ can have a pole, namely $P_\infty$, and since the degree of $\di (y)$ is zero, then we have the pole divisor must be $(2g+1)[P_\infty]$, and this completes the proof.
    \end{proof}



We now prove the following proposition, determining a basis of the space of global holomorphic poly-differentials as a vector space over $k$.

    \begin{prop}\label{propbasishyperellipticp=2}
    We assume that $g\geq 2$ and let $\omega:= \frac{dx^{\otimes m}}{h(x)^m}$. 
    Then if $g\geq 2$, a basis of $H^0(X,\Omega_X^{\otimes m})$ is given by
        $\begin{cases}
        \omega, x\omega, \ldots , x^{g-1}\omega &  \mbox{if}\ m=1 \\
        \omega, x\omega, x^2\omega & \mbox{if}\ m=g=2 \\
        \omega, x\omega, \ldots, x^{m(g-1)}\omega;\  y\omega, xy\omega, \ldots x^{(m-1)(g-1)-2}y\omega & \mbox{otherwise.}
        \end{cases}$
    \end{prop}
    
    \begin{rem}
    Note that the case where $m=1$ can be found in \cite[Prop. 7.4.26]{liu}.
    \end{rem}

    \begin{proof}
    We first assume that above elements are holomorphic poly-differentials, and show that they then form a basis.
    To show that the elements are linearly independent over $k$ we need only show that the coefficients are, since $\omega$ is fixed.
    The only case where this is not clear is when the coefficients contain both $x$ and $y$ terms.
    But since the $y$ terms are all linear, and the extension is of degree two, it must follow that coefficients are linearly independent.
    
    
    In the case that $m=1$ then we have that $\dim_k H^0(X,\Omega_X) =g$ by Lemma \ref{dim3}, and there are $g$ elements described in the statement of the proposition in this case, so they must form a basis.
    If $m \geq 2$ then $\dim_k H^0(X,\Omega_X^{\otimes m}) = (2m-1)(g-1)$.
    If $m=g=2$ then $(2m-1)(g-1) = 3$, and there are three elements listed in the proposition.
    On the other hand if $m\geq 2$ and $g > 2$ the proposition lists
        \[
        m(g-1)+1 + (g-1)(m-1)-2+1 = 2mg -2m -g +1 = (2m-1)(g-1)
        \]
    elements, and again they must form a basis.
    
    We now show that the listed poly-differentials are holomorphic, \ie that their divisors are non-negative.
    Firstly we have
        \begin{align*}
        \di(x^i\omega) & =  \di \left( \frac{x^i dx^{\otimes m}}{h(x)^m} \right)\\ 
        & =  i(D_0 - D_\infty) +2m\sum_{i=1}^k n_i[P_i] + m(g-1-d)D_\infty\\
        &  -2m\sum_{i=1}^k n_i [P_i] + dmD_\infty \\
        & =  iD_0 + (m(g-1) -i)D_\infty
        \end{align*}
    by Lemmas \ref{xchar2}, \ref{dxchar2} and \ref{h(x)char2}, and this is clearly non-negative for $0\leq i \leq m(g-1)$.
    
    Similarly the divisor 
        \begin{align*}
        \di(x^iy\omega) & =  \di \left( \frac{x^i ydx^{\otimes m}}{h(x)^m} \right)\\ 
        & =  iD_0 + (m(g-1) -i)D_\infty + \sum_{i=1}^l m_i[Q_i] - (2g+1)[P_\infty] \\
        & =  iD_0 +  \sum_{i=1}^l m_i[Q_i] + (2m(g-1) -(2g+1) -2i)[P_\infty] \\
        & =  iD_0 +  \sum_{i=1}^l m_i[Q_i] + (2((m-1)(g-1) -1 -i)-1)[P_\infty]
        \end{align*}
    is again clearly non-negative for $0 \leq i \leq (g-1)(m-1)-2$.
    
    \end{proof}

Since $\sigma$ acts trivially on $x$, it is clear that in both the $m=1$ case and the case where $m=g=2$ that the group action is trivial.
On other hand, since $\sigma(y) = y+h(x)$, we can see that in the other cases the action is not trivial, as there are $y$ coefficients of the basis elements.
Hence this proves the main theorem in the case of hyperelliptic curves in characteristic two.



